{% extends "base.html" %}
{% load static %}
{% load leaflet_tags %}
{% load geojson_tags %}

  {% leaflet_js %}
  {% leaflet_css %}






{% block content %}



        {% if request.get_full_path == '/' %}
        {% endif %}
         {% if request.get_full_path == '/search/' %}
        {% endif %}
        {% if not request.get_full_path == '/'  %}

    <div></div>
    <div>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    {% if state.start_year%}
                 от <span class="badge badge-dark">{{ state.start_year }}</span>
                    {% endif %}
                    {% if state.end_year %}
                    до <span class="badge badge-dark">{{ state.end_year }}</span>
                    {% endif %}
                </div>
            </div>

  {% if request.get_full_path == '/table/diaries/' %}
           <div class="row">
                <div class="col-md-6">

                    <div class="btn-group" role="group">
    <button class="btn btn-primary active" type="button" onclick="window.location.href='{% url 'table' 'diaries' %}'"><i class="fa fa-book"></i>&nbsp;дневники&nbsp;</button>
    <button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'people' %}'"><i class="fa fa-user-o"></i>&nbsp;люди&nbsp;</button>
    <button class="btn btn-primary" type="button" type="button" onclick="window.location.href='{% url 'table' 'places' %}'"><i class="fa fa-map-marker"></i>&nbsp;местa</button>
    <button class="btn btn-primary" type="button" type="button" onclick="window.location.href='{% url 'table' 'entries' %}'"><i class="fa fa-pencil-square-o"></i>&nbsp;дневниковые записи</button></div>
</div>

                <div class="col-md-6">
                    <div class="btn-group" role="group">
                        <button onclick="window.location.href='{% url 'table' 'diaries' %}'" class="btn btn-primary active" type="button"><i class="fa fa-table"></i> таблица</button>
                        <button onclick="window.location.href='{% url 'chart' 'diaries' %}'" class="btn btn-primary" type="button"><i class="fa fa-bar-chart"></i> график</button>
                        <button onclick="window.location.href='{% url 'map' 'diaries' %}'" class="btn btn-primary" type="button"><i class="fa fa-map"></i> карта</button></div>

                     </div>
                </div>
        </div>
    </div>

    <div></div>
    <div>
  {% endif %}


{% if request.get_full_path == '/table/people/' %}
           <div class="row">
                <div class="col-md-6">


<div class="btn-group" role="group"><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'diaries' %}'"><i class="fa fa-book"></i>&nbsp;дневники&nbsp;</button><button class="btn btn-primary active" type="button" onclick="window.location.href='{% url 'table' 'people' %}'"><i class="fa fa-user-o"></i>&nbsp;люди&nbsp;</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'places' %}'"><i class="fa fa-map-marker"></i>&nbsp;местa</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'entries' %}'"><i class="fa fa-book"></i>&nbsp;дневниковые записи</button></div>
</div>

                <div class="col-md-6">
                    <div class="btn-group" role="group">
                        <button onclick="window.location.href='{% url 'table' 'people' %}'" class="btn btn-primary active" type="button"><i class="fa fa-table"></i> таблица</button>
                        <button onclick="window.location.href='{% url 'chart' 'people' %}'" class="btn btn-primary" type="button"><i class="fa fa-bar-chart"></i> график</button>
                        <button onclick="window.location.href='{% url 'map' 'people' %}'" class="btn btn-primary" type="button"><i class="fa fa-map"></i> карта</button></div>
                     </div>
                </div>
        </div>
    </div>

    <div></div>
    <div>

 {% endif %}

{% if request.get_full_path == '/table/places/' %}
           <div class="row">
                <div class="col-md-6">

        <div class="btn-group" role="group"><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'diaries' %}'"><i class="fa fa-book"></i>&nbsp;дневники&nbsp;</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'people' %}'"><i class="fa fa-user-o"></i>&nbsp;люди&nbsp;</button><button class="btn btn-primary active" type="button" onclick="window.location.href='{% url 'table' 'places' %}'"><i class="fa fa-map-marker"></i>&nbsp;местa</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'entries' %}'"><i class="fa fa-book"></i>&nbsp;дневниковые записи</button></div>
</div>

                <div class="col-md-6">
                    <div class="btn-group" role="group">
                        <button onclick="window.location.href='{% url 'table' 'places' %}'" class="btn btn-primary active" type="button"><i class="fa fa-table"></i> таблица</button>
                        <button onclick="window.location.href='{% url 'chart' 'places' %}'" class="btn btn-primary" type="button"><i class="fa fa-bar-chart"></i> график</button>
                        <button onclick="window.location.href='{% url 'map' 'places' %}'" class="btn btn-primary" type="button"><i class="fa fa-map"></i> карта</button></div>
                     </div>
                </div>
        </div>
    </div>

    <div></div>
    <div>

 {% endif %}

{% if request.get_full_path == '/table/entries/' %}
           <div class="row">
                <div class="col-md-6">

        <div class="btn-group" role="group"><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'diaries' %}'"><i class="fa fa-book"></i>&nbsp;дневники&nbsp;</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'people' %}'"><i class="fa fa-user-o"></i>&nbsp;люди&nbsp;</button><button class="btn btn-primary" type="button" onclick="window.location.href='{% url 'table' 'places' %}'"><i class="fa fa-map-marker"></i>&nbsp;местa</button><button class="btn btn-primary active" type="button" onclick="window.location.href='{% url 'table' 'entries' %}'"><i class="fa fa-book"></i>&nbsp;дневниковые записи</button></div>
</div>

                <div class="col-md-6">
                    <div class="btn-group" role="group">
                        <button onclick="window.location.href='{% url 'table' 'entries' %}'" class="btn btn-primary active" type="button"><i class="fa fa-table"></i> таблица</button>
                        <button onclick="window.location.href='{% url 'chart' 'entries' %}'" class="btn btn-primary" type="button"><i class="fa fa-bar-chart"></i> график</button>
                        <button onclick="window.location.href='{% url 'map' 'entries' %}'" class="btn btn-primary" type="button"><i class="fa fa-map"></i> карта</button></div>
                     </div>
                </div>
        </div>
    </div>

    <div></div>
    <div>

 {% endif %}
        {% endif %}


        <div class="container">
            
{% if request.get_full_path == '/table/diaries/' %}
           <div class="row">
                <div class="col-md-6">

            <div class="row">

                <div class="col"><table class="myTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
     <tr>
        <th> автор дневника </th>
        <th> количество записей </th>
         <th> первая запись</th>
          <th> последняя запись</th>
     </tr>
  </thead>

    </table></div>
            </div>
        </div>
    </div>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

<script>

$(document).ready(function() {


    // DataTable
    var table = $('.myTable').DataTable({
        // ...
        "processing": true,
        stateSave: true,
        "serverSide": true,
        "ajax": "{% url 'diary_json' %}",
        "language": {
        "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Russian.json"
        },
        dom: 'Brtip',
        buttons: [
               'copy',
               'excel',
               'csv',
               'pdf',
               'print'
        ]
    } );

} );

</script>
{% endif %}

{% if request.get_full_path == '/table/entries/' %}

            <div class="row">

                <div class="col"><table class="myTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
     <tr>
        <th> текст </th>
        <th> Дата </th>
         <th> автор </th>
          <th> ключевые слова </th>
          <th> настроение </th>
     </tr>
  </thead>

    </table></div>
            </div>
        </div>
    </div>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

<script>


$(document).ready(function() {


    // DataTable
    var table = $('.myTable').DataTable({
        // ...
        "processing": true,
        stateSave: true,
        "serverSide": true,
        "ajax": "{% url 'entry_json' %}",
        "language": {
        "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Russian.json"
        },
        dom: 'Brtip',
        buttons: [
               'copy',
               'excel',
               'csv',
               'pdf',
               'print'
        ]
    } );

} );

</script>
{% endif %}

{% if request.get_full_path == '/table/people/' %}


            <div class="row">

                <div class="col"><table class="myTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
     <tr>
         <th> фамилия </th>
         <th> имя </th>
        <th> отчество </th>
         <th> информация </th>
         <th> дата рождения </th>
         <th> дата смерти</th>
     </tr>
  </thead>

    </table></div>
            </div>
        </div>
    </div>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

<script>


$(document).ready(function() {


    // DataTable
    var table = $('.myTable').DataTable({
        // ...
        "processing": true,
        stateSave: true,
        "serverSide": true,
        "ajax": "{% url 'people_json' %}",
        "language": {
        "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Russian.json"
        },
        dom: 'Brtip',
        buttons: [
               'copy',
               'excel',
               'csv',
               'pdf',
               'print'
        ]
    } );

} );

</script>
{% endif %}

{% if request.get_full_path == '/table/places/' %}

            <div class="row">

                <div class="col"><table class="myTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
     <tr>
          <th> место </th>
        <th> ссылка </th>
         <th> дата </th>
         <th> координаты </th>
     </tr>
  </thead>

    </table></div>
            </div>
        </div>
    </div>




 <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

<script>


$(document).ready(function() {


    // DataTable
    var table = $('.myTable').DataTable({
        // ...
        "processing": true,
        stateSave: true,
        "serverSide": true,
        "ajax": "{% url 'places_json' %}",
        "language": {
        "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Russian.json"
        },
        dom: 'Brtip',
        buttons: [
               'copy',
               'excel',
               'csv',
               'pdf',
               'print'
        ]
    } );

} );

</script>

{% endif %}

{% endblock %}
